# RedisLesson

## 特徴
インメモリデータベース

## データタイプ
* String  
個々の要素
* List  
順番に並べた複数の要素  
時系列的なデータ
* Set  
順不同の複数の要素。重複を許さない  
タグ、ソーシャルグラフ
* Sorted Set  
Setの特徴を持ちつつ個々の要素にスコア付き  
ランキング
* Hash  
連想配列。ラベルと値のセット


## 起動終了
```
起動
redis-server

終了
(CTL+C)

クライアントからサーバーの終了
> shutdown
```

## クライアント基本
```
クライアントの起動
redis-cli

クライアントの終了
exit

クライアントからサーバーの終了
shutdown

メモリからディスクに保存
bgsave
```

## 操作コマンド
```
DBの選択
select [番号(0〜15)]

Keyの取得
key *
key *hoge*

Keyに有効期限をつける
expire [キー] [秒]
```

## String型操作コマンド
```
保存
set [キー] [バリュー]

取得
get [キー]

複数保存
mset [キー1] [バリュー1] [キー2] [バリュー2]

複数取得
mget [キー1] [キー2]
```

## List型操作コマンド

```
保存
[r/l]push [キー] [バリュー]
※r:右に追加、l:左に追加(LeftでなくList)

削除
[r/l]pop [キー]

範囲指定で取得
lrange [開始インデックス番号] [終了インデックス番号]

インデックス指定で取得
lindex mycolor [インデックス番号]

```

## Set型操作コマンド
```
追加：sadd [キー] [バリュー]
削除: srem [キー] [バリュー]
一覧: smembers [キー]
```

##Sorted Set
```
追加：zadd [キー] [スコア] [バリュー]
削除：zrem [キー]  [バリュー]
一覧：zrange [キー] [開始インデックス番号] [終了インデックス番号]


ランク(何番目か取得)  

上から何番目か
zrank [キー] [バリュー]

下から何番目か
zrevrank [キー] [バリュー]
```

## Hash
```
セット: hset [ハッシュ] [キー] [バリュー] 
複数セット：hmset
取得: hget ハッシュ] [キー]
複数取得：hmget
何個あるか：hlen
一覧：hkeys
```

